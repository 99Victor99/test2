# ä¸ªäººå¼€å‘æµç¨‹æŒ‡å— - å¤šäººåä½œåœºæ™¯

## ğŸ¯ åœºæ™¯æè¿°

**å›¢é˜Ÿåä½œæ¨¡å¼**ï¼š
- å¤šäººåŒæ—¶å¼€å‘ä¸€ä¸ªè¿­ä»£
- æ¯äººç»´æŠ¤ç§æœ‰åŠŸèƒ½åˆ†æ”¯
- ä¸æ–­å‘ dev åˆ†æ”¯åˆå¹¶
- é€šçŸ¥è¿ç»´æµ‹è¯•ç¯å¢ƒå‘ç‰ˆ

## ğŸ“‹ å®Œæ•´ä¸ªäººæ“ä½œæµç¨‹

### 1. å¼€å§‹æ–°åŠŸèƒ½å¼€å‘
```bash
# åˆ›å»ºä¸ªäººåŠŸèƒ½åˆ†æ”¯ï¼ˆè‡ªåŠ¨åŸºäºæœ€æ–° devï¼‰
./personal_dev_workflow.sh start user-role

# è¾“å‡ºç¤ºä¾‹ï¼š
# åŠŸèƒ½åˆ†æ”¯åˆ›å»ºå®Œæˆ: feature/zhangsan/user-role
```

### 2. æ—¥å¸¸å¼€å‘å¾ªç¯

#### âŒ é—®é¢˜ï¼šåŸç‰ˆæœ¬åªå¤„ç†ä¸»é¡¹ç›®æäº¤
```bash
# ä¿®æ”¹ä»£ç 
vim proto/users/users.proto      # ä¿®æ”¹ proto
vim internal/service/user.go     # ä¿®æ”¹ä¸šåŠ¡é€»è¾‘

# ä¸»gitæäº¤åˆ°ä¸ªäººåˆ†æ”¯ï¼ˆè‡ªåŠ¨éªŒè¯ã€æµ‹è¯•ã€ç”Ÿæˆä»£ç ï¼‰, protoå˜æ›´å…ˆä¸æäº¤.
./personal_dev_workflow.sh commit "æ·»åŠ ç”¨æˆ·è§’è‰²å­—æ®µ"
# âš ï¸ é—®é¢˜ï¼šproto æ›´æ”¹æ²¡æœ‰æäº¤å’Œç‰ˆæœ¬ç®¡ç†ï¼
```

#### âœ… è§£å†³ï¼šå¢å¼ºç‰ˆæœ¬ï¼ˆå®Œæ•´çš„ Submodule å¤„ç†ï¼‰
```bash
# ä¿®æ”¹ä»£ç 
vim proto/users/users.proto      # ä¿®æ”¹ protoï¼ˆsubmoduleï¼‰
vim internal/service/user.go     # ä¿®æ”¹ä¸šåŠ¡é€»è¾‘

# å¢å¼ºç‰ˆæäº¤ï¼ˆè‡ªåŠ¨å¤„ç† proto ç‰ˆæœ¬ç®¡ç†ï¼‰
./enhanced_personal_workflow.sh commit "æ·»åŠ ç”¨æˆ·è§’è‰²å­—æ®µ" minor

# è‡ªåŠ¨åŒ–æµç¨‹ï¼š
# 1. âœ… æ£€æµ‹ proto æ–‡ä»¶ä¿®æ”¹
# 2. âœ… éªŒè¯ proto è¯­æ³•  
# 3. âœ… åœ¨ proto submodule ä¸­æäº¤æ›´æ”¹
# 4. âœ… åˆ›å»º proto ç‰ˆæœ¬æ ‡ç­¾ï¼ˆå¦‚ v1.3.0ï¼‰
# 5. âœ… æ¨é€ proto æ›´æ”¹åˆ°è¿œç¨‹
# 6. âœ… æ›´æ–°ä¸»é¡¹ç›®çš„ submodule æŒ‡é’ˆ
# 7. âœ… ç”Ÿæˆæœ€æ–°çš„ proto ä»£ç 
# 8. âœ… è¿è¡Œæµ‹è¯•éªŒè¯
# 9. âœ… æäº¤ä¸»é¡¹ç›®æ›´æ”¹

# åŒæ­¥æœ€æ–°ä»£ç 
./enhanced_personal_workflow.sh sync
```

### 3. åŠŸèƒ½å®Œæˆï¼Œåˆå¹¶åˆ° dev

#### åŸºç¡€ç‰ˆæœ¬
```bash
# åˆå¹¶åˆ° dev åˆ†æ”¯ï¼ˆè‡ªåŠ¨æ¨é€ï¼‰
./personal_dev_workflow.sh merge
```

#### å¢å¼ºç‰ˆæœ¬ï¼ˆåŒ…å« Proto ç‰ˆæœ¬ä¿¡æ¯ï¼‰â­ï¸ **æ¨è**
```bash
# å¢å¼ºç‰ˆåˆå¹¶åˆ° dev åˆ†æ”¯
./enhanced_personal_workflow.sh merge

# è¾“å‡ºç¤ºä¾‹ï¼š
# âœ… åŠŸèƒ½å·²åˆå¹¶åˆ° dev åˆ†æ”¯
# ğŸ“¢ å®Œæ•´çš„è¿ç»´éƒ¨ç½²é€šçŸ¥:
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# ğŸš€ dev åˆ†æ”¯å·²æ›´æ–°ï¼Œè¯·éƒ¨ç½²æµ‹è¯•ç¯å¢ƒ
# 
# ğŸ“‹ åŠŸèƒ½ä¿¡æ¯:
#   - åŠŸèƒ½åˆ†æ”¯: feature/zhangsan/user-role
#   - å¼€å‘è€…: å¼ ä¸‰
#   - ä¸»é¡¹ç›®æäº¤: a1b2c3d
# 
# ğŸ“¦ Proto ç‰ˆæœ¬ä¿¡æ¯:
#   - proto/users: v1.3.0 (def4567)
#   - proto/goods: v2.1.0 (abc1234)
#   - proto/orders: v1.0.0 (xyz9876)
# 
# â° æ›´æ–°æ—¶é—´: 2024-01-15 14:30:00
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### 4. é€šçŸ¥è¿ç»´æµ‹è¯•ç¯å¢ƒå‘ç‰ˆ
```bash
# å‘é€æ¶ˆæ¯ç»™è¿ç»´ï¼ˆé’‰é’‰/ä¼å¾®/é‚®ä»¶ï¼‰ï¼š
"dev åˆ†æ”¯å·²æ›´æ–°ï¼Œè¯·éƒ¨ç½²æµ‹è¯•ç¯å¢ƒ
- åŠŸèƒ½: æ·»åŠ ç”¨æˆ·è§’è‰²å­—æ®µ
- åˆ†æ”¯: dev
- æäº¤: a1b2c3d  
- å¼€å‘è€…: å¼ ä¸‰"
```

## ğŸ”„ åˆ†æ”¯æµè½¬å›¾

```
ä¸ªäººåˆ†æ”¯                    devåˆ†æ”¯                     æµ‹è¯•ç¯å¢ƒ
    â”‚                        â”‚                          â”‚
    â”œâ”€ start â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                          â”‚
    â”‚                        â”‚                          â”‚
    â”œâ”€ commit â”€â”€â”             â”‚                          â”‚
    â”œâ”€ commit â”€â”€â”¼â”€ æœ¬åœ°å¼€å‘    â”‚                          â”‚
    â”œâ”€ commit â”€â”€â”˜             â”‚                          â”‚
    â”‚                        â”‚                          â”‚
    â”œâ”€ merge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                          â”‚
    â”‚                        â”œâ”€ è‡ªåŠ¨æ¨é€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
    â”‚                        â”‚                          â”œâ”€ è¿ç»´éƒ¨ç½²
    â”‚                        â”‚                          â”‚
    â””â”€ åˆ é™¤åˆ†æ”¯               â”‚                          â”‚
```

## ğŸ“Š å¤šäººåä½œæ—¶é—´çº¿

```
æ—¶é—´çº¿    å¼ ä¸‰              æå››              ç‹äº”              devåˆ†æ”¯
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
09:00   start user-role                                      
09:30                     start payment                       
10:00   commit "å­—æ®µ1"                                        
10:30                     commit "æ”¯ä»˜1"    start order       
11:00   commit "å­—æ®µ2"                                        
11:30                                       commit "è®¢å•1"    
12:00   merge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ åˆå¹¶1
12:30                     merge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ åˆå¹¶2
13:00                                       commit "è®¢å•2"    
13:30                                       merge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ åˆå¹¶3
14:00                                                         é€šçŸ¥è¿ç»´
```

## ğŸ› ï¸ å·¥å…·ä½¿ç”¨ç¤ºä¾‹

### æŸ¥çœ‹å½“å‰çŠ¶æ€
```bash
$ ./personal_dev_workflow.sh status

=== ä¸ªäººå¼€å‘çŠ¶æ€ ===
[INFO] å½“å‰åˆ†æ”¯: feature/zhangsan/user-role
[INFO] ç”¨æˆ·ä¿¡æ¯: å¼ ä¸‰ <zhangsan@company.com>
[SUCCESS] å·¥ä½œåŒºå¹²å‡€

[INFO] ä¸ªäººåŠŸèƒ½åˆ†æ”¯:
  feature/zhangsan/user-role
  feature/zhangsan/user-permission

[INFO] ä¸ dev åˆ†æ”¯çš„å·®å¼‚:
  é¢†å…ˆ dev: 3 ä¸ªæäº¤
  è½å dev: 1 ä¸ªæäº¤
[WARNING] å»ºè®®è¿è¡Œ './personal_dev_workflow.sh sync' åŒæ­¥æœ€æ–°ä»£ç 
```

### åŒæ­¥æœ€æ–°ä»£ç 
```bash
$ ./personal_dev_workflow.sh sync

[STEP] åŒæ­¥ dev åˆ†æ”¯æœ€æ–°ä»£ç ...
[INFO] æ›´æ–°æœ¬åœ° dev åˆ†æ”¯...
[SUCCESS] dev åˆ†æ”¯å·²æ›´æ–°
[SUCCESS] å·²åŒæ­¥ dev åˆ†æ”¯æœ€æ–°ä»£ç 
```

## âš ï¸ å¸¸è§é—®é¢˜å¤„ç†

### 1. åˆå¹¶å†²çª
```bash
# åŒæ­¥æ—¶é‡åˆ°å†²çª
./personal_dev_workflow.sh sync
# æ‰‹åŠ¨è§£å†³å†²çª
vim conflicted_file.go
git add .
git commit -m "resolve merge conflict"
```

### 2. Proto è¯­æ³•é”™è¯¯
```bash
# æäº¤æ—¶è‡ªåŠ¨æ£€æŸ¥
./personal_dev_workflow.sh commit "ä¿®æ”¹proto"
# å¦‚æœè¯­æ³•é”™è¯¯ï¼Œä¿®å¤åé‡æ–°æäº¤
vim proto/users/users.proto
./personal_dev_workflow.sh commit "ä¿®å¤protoè¯­æ³•"
```

### 3. æµ‹è¯•å¤±è´¥
```bash
# æäº¤æ—¶è‡ªåŠ¨è¿è¡Œæµ‹è¯•
./personal_dev_workflow.sh commit "æ–°åŠŸèƒ½"
# å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œä¿®å¤åé‡æ–°æäº¤
vim internal/service/user_test.go
./personal_dev_workflow.sh commit "ä¿®å¤æµ‹è¯•"
```

## ğŸ† æœ€ä½³å®è·µ

### 1. åˆ†æ”¯å‘½åè§„èŒƒ
```bash
feature/ç”¨æˆ·å/åŠŸèƒ½å
feature/zhangsan/user-role
feature/lisi/payment-gateway
feature/wangwu/order-status
```

### 2. æäº¤ä¿¡æ¯è§„èŒƒ
```bash
# å¥½çš„æäº¤ä¿¡æ¯
./personal_dev_workflow.sh commit "æ·»åŠ ç”¨æˆ·è§’è‰²å­—æ®µ"
./personal_dev_workflow.sh commit "ä¿®å¤ç”¨æˆ·æƒé™éªŒè¯"
./personal_dev_workflow.sh commit "é‡æ„ç”¨æˆ·æœåŠ¡æ¥å£"

# é¿å…çš„æäº¤ä¿¡æ¯
./personal_dev_workflow.sh commit "ä¿®æ”¹"
./personal_dev_workflow.sh commit "fix bug"
```

### 3. å¼€å‘èŠ‚å¥å»ºè®®
```bash
# é¢‘ç¹å°æäº¤ï¼ˆæ¨èï¼‰
09:00 - commit "æ·»åŠ å­—æ®µå®šä¹‰"
10:00 - commit "å®ç°å­—æ®µéªŒè¯"  
11:00 - commit "æ·»åŠ å•å…ƒæµ‹è¯•"
12:00 - merge

# é¿å…å¤§æ‰¹é‡æäº¤
ä¸€å¤©ç»“æŸ - commit "å®Œæˆæ•´ä¸ªåŠŸèƒ½"
```

### 4. åä½œæ²Ÿé€š
```bash
# åˆå¹¶å‰æ£€æŸ¥
git log dev..HEAD --oneline  # æŸ¥çœ‹å³å°†åˆå¹¶çš„æäº¤

# åˆå¹¶åé€šçŸ¥
"devåˆ†æ”¯å·²æ›´æ–°ï¼ŒåŒ…å«ç”¨æˆ·è§’è‰²åŠŸèƒ½ï¼Œè¯·éƒ¨ç½²æµ‹è¯•ç¯å¢ƒ"
```

## ğŸ‰ æ€»ç»“

è¿™å¥—ä¸ªäººå¼€å‘æµç¨‹ï¼š
- âœ… **è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜** - ä¸€å¥å‘½ä»¤å®Œæˆå¤æ‚æ“ä½œ
- âœ… **å¤šäººåä½œå‹å¥½** - é¿å…åˆ†æ”¯å†²çªå’Œä»£ç æ±¡æŸ“
- âœ… **è´¨é‡ä¿è¯** - è‡ªåŠ¨éªŒè¯ã€æµ‹è¯•ã€ä»£ç ç”Ÿæˆ
- âœ… **è¿ç»´é›†æˆ** - æ¸…æ™°çš„å‘ç‰ˆé€šçŸ¥æµç¨‹

## ğŸ“Š åŸç‰ˆ vs å¢å¼ºç‰ˆå¯¹æ¯”

| åŠŸèƒ½ | åŸç‰ˆ personal_dev_workflow.sh | å¢å¼ºç‰ˆ enhanced_personal_workflow.sh |
|------|-------------------------------|-------------------------------------|
| **ä¸»é¡¹ç›®æäº¤** | âœ… æ”¯æŒ | âœ… æ”¯æŒ |
| **Proto ä¿®æ”¹æ£€æµ‹** | âŒ ä¸å¤„ç† | âœ… è‡ªåŠ¨æ£€æµ‹ |
| **Proto è¯­æ³•éªŒè¯** | âŒ è·³è¿‡ | âœ… è‡ªåŠ¨éªŒè¯ |
| **Proto ç‰ˆæœ¬ç®¡ç†** | âŒ æ‰‹åŠ¨å¤„ç† | âœ… è‡ªåŠ¨åˆ›å»ºæ ‡ç­¾ |
| **Submodule æäº¤** | âŒ é—æ¼ | âœ… è‡ªåŠ¨æäº¤æ¨é€ |
| **Submodule æŒ‡é’ˆæ›´æ–°** | âŒ æ‰‹åŠ¨ | âœ… è‡ªåŠ¨æ›´æ–° |
| **è¿ç»´é€šçŸ¥ä¿¡æ¯** | âŒ åŸºç¡€ | âœ… åŒ…å« Proto ç‰ˆæœ¬ |
| **å¤š Proto æ”¯æŒ** | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒå¤šä¸ª submodule |

## ğŸ¯ æ¨èä½¿ç”¨æ–¹æ¡ˆ

### åœºæ™¯ 1ï¼šåªä¿®æ”¹ä¸šåŠ¡ä»£ç 
```bash
# ä½¿ç”¨åŸç‰ˆå³å¯
./personal_dev_workflow.sh commit "ä¿®å¤ç”¨æˆ·æœåŠ¡bug"
```

### åœºæ™¯ 2ï¼šä¿®æ”¹äº† Proto æ–‡ä»¶ â­ï¸
```bash
# å¿…é¡»ä½¿ç”¨å¢å¼ºç‰ˆ
./enhanced_personal_workflow.sh commit "æ·»åŠ ç”¨æˆ·è§’è‰²å­—æ®µ" minor
```

### åœºæ™¯ 3ï¼šå¤§å‹åŠŸèƒ½å¼€å‘
```bash
# æ¨èå…¨ç¨‹ä½¿ç”¨å¢å¼ºç‰ˆ
./enhanced_personal_workflow.sh start user-management
./enhanced_personal_workflow.sh commit "æ·»åŠ ç”¨æˆ·CRUDæ¥å£" minor  
./enhanced_personal_workflow.sh commit "æ·»åŠ æƒé™éªŒè¯" patch
./enhanced_personal_workflow.sh merge
```

## ğŸ† æ ¸å¿ƒå‘½ä»¤è®°å¿†

### å¢å¼ºç‰ˆå‘½ä»¤ï¼š
1. `start` - å¼€å§‹æ–°åŠŸèƒ½
2. `commit "æè¿°" [ç‰ˆæœ¬ç±»å‹]` - æ™ºèƒ½æäº¤ï¼ˆå¤„ç† protoï¼‰
3. `merge` - æ™ºèƒ½åˆå¹¶ï¼ˆåŒ…å« proto ç‰ˆæœ¬ä¿¡æ¯ï¼‰
4. `status` - å®Œæ•´çŠ¶æ€ï¼ˆä¸»é¡¹ç›® + æ‰€æœ‰ submoduleï¼‰

### ç‰ˆæœ¬ç±»å‹ï¼š
- `major` - ç ´åæ€§å˜æ›´ (v1.0.0 â†’ v2.0.0)
- `minor` - æ–°åŠŸèƒ½ (v1.0.0 â†’ v1.1.0) 
- `patch` - ä¿®å¤ (v1.0.0 â†’ v1.0.1) [é»˜è®¤]

**ä¸€å¥è¯æ€»ç»“ï¼šåŸç‰ˆå¤„ç†ä¸»é¡¹ç›®ï¼Œå¢å¼ºç‰ˆå¤„ç†å®Œæ•´çš„ Submodule Proto ç”Ÿæ€ï¼** ğŸš€
